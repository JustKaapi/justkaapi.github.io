<dialog id="cart">

    <script>

        function tabNext(current, active) {
            document.getElementById(current).style.display = "none";
            document.getElementById(active).style.display = "block";
        }

        function tabBack() {
        }

        function placeOrder() {
            console.log("place order")
        }

    </script>

    <style>
        input:invalid {
            box-shadow: red 2px 2px;
        }
    </style>

    <div style="overflow: hidden;">

        <template id="cart-row-item-template">
            <tr>
                <td style="text-align: left; max-width: 250px;">
                    <div style="display: flex; flex-direction: column;">
                        <span id="cart_product"> title </span>
                        <span id="cart_description" class="for-large"
                            style="opacity: 0.6; font-size: medium; text-align: left; ">
                            description
                        </span>
                    </div>
                </td>
                <td style="text-align: center;">
                    <div style="display: flex; gap: 5px; justify-content: space-evenly;">
                        <span id="decr" style="width: 100%; cursor: pointer;" onclick="removeFromCart(event)">-</span>
                        <span id="cart_quantity">1</span>
                        <span id="incr" style="width: 100%;  cursor: pointer;" onclick="addToCart(event)">+</span>
                    </div>
                </td>
                <td id="cart_price" class="for-large" style="text-align: right;">1</td>
                <td id="cart_total" style="text-align: right;">1</td>
            </tr>
        </template>

        <div style="display: flex; flex-direction: column; height: 100%;">
            <div style="display: flex; justify-content: space-between;">
                <div style="display: flex; gap: 10px">
                    <img style="width: 22px; height: 22px;" src="./assets/site/favicon.png">
                    <span style="font-size: large; opacity: 0.8;">Check out</span>
                </div>
                <button type="button" class="btn-secondary" style="border: none; padding: 0px; margin: 0px 5px;"
                    onclick="closeCart()">X</button>
            </div>
            <hr style="color: white; margin: 10px 0px;">

            <div id="order-review-tab">

                <div style="display: flex; justify-content: space-around;">
                    <div class="clickable"
                        style="display: flex; justify-content: center; gap: 10px; padding: 10px 10px; width: 100%;">
                        <span class="active-tab"
                            style="display: block; color: #3f4254; text-align: center; border-radius: 50%; background-color: lightgrey; width: 20px; height: 20px;">1</span>
                        <span style="color: #3f4254;">Review Items</span>
                    </div>

                    <div class="clickable"
                        style="display: flex; justify-content: center; gap: 10px; padding: 10px 10px; width: 100%;"
                        onclick="tabNext('order-review-tab', 'shipping-address-tab')">
                        <span
                            style="display: block; color: #3f4254; text-align: center; border-radius: 50%; background-color: lightgrey; width: 20px; height: 20px;">2</span>
                        <span style="color: #3f4254;">Shipping Address</span>
                    </div>
                </div>

                <div style="overflow-y: auto; height: calc(80vh - 160px); max-height: 250px;">
                    <table style="border-spacing: 0px 10px; width: 95%;">
                        <thead>
                            <tr style="opacity: 0.6;">
                                <td style="text-align: left;">PRODUCT</td>
                                <td style="text-align: right;">QTY</td>
                                <td class="for-large" style="text-align: right;">PRICE</td>
                                <td style="text-align: right;">TOTAL</td>
                            </tr>
                        </thead>
                        <tbody id="cart-items-container">

                        </tbody>
                    </table>
                </div>

                <div style="margin-top: auto;">
                    <hr style="color: white; margin: 10px 0px;">

                    <div style="display: flex; justify-content: end; gap: 10px;">
                        <button class="btn-secondary" type="button" style="min-width: 90px;"
                            onclick="closeCart()">Close</button>
                        <button class="btn-primary" style="opacity: 1; min-width: 90px;" type="button"
                            onclick="tabNext('order-review-tab', 'shipping-address-tab')">Proceed</button>
                    </div>
                </div>
            </div>

            <div id="shipping-address-tab" style="display: none;">

                <div style="display: flex; justify-content: space-around;">
                    <div class="clickable"
                        style="display: flex; justify-content: center; gap: 10px; padding: 10px 10px; width: 100%;"
                        onclick="tabNext('shipping-address-tab', 'order-review-tab')">
                        <span
                            style="display: block; color: #3f4254; text-align: center; border-radius: 50%; background-color: lightgrey; width: 20px; height: 20px;">1</span>
                        <span style="color: #3f4254;">Review Items</span>
                    </div>

                    <div class="clickable"
                        style="display: flex; justify-content: center; gap: 10px; padding: 10px 10px; width: 100%;">
                        <span class="active-tab"
                            style="display: block; color: #3f4254; text-align: center; border-radius: 50%; background-color: lightgrey; width: 20px; height: 20px;">2</span>
                        <span style="color: #3f4254;">Shipping Address</span>
                    </div>
                </div>

                <div style="overflow-y: auto; height: calc(80vh - 160px); max-height: 250px;">
                    <form>

                        <div style="display: flex; flex-direction: row; gap: 10px; width: 100%; flex-wrap: wrap;">

                            <div
                                style="display: flex; flex-direction: column; gap: 10px; width: 100%; min-width: 175px; max-width: 300px;">

                                <span>Name:</span>
                                <input class="line-height-150" id="user-name" required>

                                <span>Phone:</span>
                                <input class="line-height-150" id="user-phone" type="number" minlength="10" required>

                                <span>Email:</span>
                                <input class="line-height-150" id="user-phone" type="email" required>

                            </div>

                            <div
                                style="display: flex; flex-direction: column; gap: 10px; width: 100%; min-width: 175px; max-width: 300px;">

                                <span>Address:</span>
                                <input class="line-height-150" id="user-address" required>

                                <span>City:</span>
                                <input class="line-height-150" id="user-city" required>

                                <span>Pincode:</span>
                                <input class="line-height-150" id="user-pincode" type="number" minlength="6" required>

                            </div>

                        </div>
                    </form>
                </div>

                <div style="margin-top: auto;">
                    <hr style="color: white; margin: 10px 0px;">

                    <div style="display: flex; justify-content: end; gap: 10px;">
                        <button class="btn-secondary" type="button" style="min-width: 90px;"
                            onclick="tabNext('shipping-address-tab', 'order-review-tab')">Back</button>
                        <input class="btn-primary" style="opacity: 1; min-width: 90px;" type="submit"
                            value="Place Order" onclick="placeOrder()">
                    </div>
                </div>
            </div>

        </div>
    </div>
</dialog>